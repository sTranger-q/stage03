<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        select,.opt{
            margin: 0;
            padding: 0;
            border: 0;
        }
        select{
            height: 30px;
        }
        .opt{
            text-align: center;
            
          
        }
    </style>
</head>
<body>
    <form action="">
    <select name="" id="prov"></select>
    <select name="" id="city"></select>
    <select name="" id="area"></select>
    </form>

    <script src="../js/jquery.min.js"></script>
    <script src="../js/data.js"></script>
    <script>
        console.log(data);
        
        var pro;
        var city;

        $('#prov').html('<option value="0" >请选择</option>');
        $('#city').html('<option value="0" >请选择</option>');
        $('#area').html('<option value="0" >请选择</option>');
        

        $.each(data,function(index,element){
            $('#prov').append(`<option value="${element.provId}"  class='opt'>`+element.provname+'</option>');
        })

        $('#prov').on('change',function(){
            $('#city').html('<option value="0" >请选择</option>');
            $('#area').html('<option value="0" >请选择</option>');
            pro=$('#prov').find('option:selected').text();
            if(pro=='请选择'){
                return
            }
            $.each(data,function(index,element){
                if(pro==element.provname){
                    $.each(element.citys,function(i,c){
                        $('#city').append(`<option value="${c.cityId}"  class='opt'>`+c.cityname+'</option>');
                    })
                }
            })
        })
        
        $('#city').on('change',function(){
            $('#area').html('<option value="0" >请选择</option>');
            // var pro=$('#prov').find('option:selected').text();
            city=$('#city').find('option:selected').text();
            if(city=='请选择'){
                return
            }
            $.each(data,function(i,p){
                if(pro==p.provname){
                    $.each(p.citys,function(j,c){
                        if(city==c.cityname){
                            $.each(c.areas,function(r,a){
                                $('#area').append(`<option value="${a.areald}"  class='opt'>`+a.areaname+'</option>');
                            })
                        }
                    })
                }
            })
        })
    </script>
</body>
</html>